<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Mohamed Tech | Booking</title>

<style>
*{box-sizing:border-box}
body{
  margin:0; min-height:100vh;
  background:linear-gradient(135deg,#020617,#0f172a);
  font-family:Arial,sans-serif;
  display:flex; justify-content:center; align-items:center;
  color:#fff; padding:20px;
}
.container{
  width:480px; max-width:100%;
  background:rgba(15,23,42,.92);
  border:1px solid rgba(148,163,184,.18);
  padding:34px;
  border-radius:24px;
  box-shadow:0 18px 60px rgba(0,0,0,.45);
  position:relative;
  overflow:hidden;
  animation:cardIn .9s ease;
}
.container::before{
  content:"";
  position:absolute; inset:-120px;
  background:radial-gradient(circle at 20% 20%, rgba(34,197,94,.18), transparent 45%),
             radial-gradient(circle at 80% 30%, rgba(56,189,248,.14), transparent 42%),
             radial-gradient(circle at 55% 90%, rgba(250,204,21,.10), transparent 50%);
  filter:blur(0px);
  animation:bgFloat 8s ease-in-out infinite;
}
@keyframes bgFloat{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-18px)}
}
@keyframes cardIn{
  from{opacity:0; transform:translateY(18px) scale(.98)}
  to{opacity:1; transform:translateY(0) scale(1)}
}
h1{
  position:relative;
  text-align:center;
  margin:0 0 6px;
  color:#22c55e;
  letter-spacing:.3px;
}
.subtitle{
  position:relative;
  text-align:center;
  margin:0 0 18px;
  color:#cbd5e1;
  font-size:15px;
}
.hr{
  position:relative;
  height:1px;
  background:linear-gradient(90deg, transparent, rgba(148,163,184,.25), transparent);
  margin:14px 0 18px;
}
label{
  position:relative;
  display:block;
  color:#94a3b8;
  font-size:13px;
  margin:0 0 6px;
}
input, select, button{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:1px solid rgba(148,163,184,.18);
  outline:none;
  font-size:16px;
  transition:.25s;
  position:relative;
  background:rgba(2,6,23,.55);
  color:#fff;
}
input::placeholder{color:#64748b}
input:focus, select:focus{
  border-color:rgba(34,197,94,.55);
  box-shadow:0 0 0 4px rgba(34,197,94,.15);
  transform:translateY(-1px);
}
.row{position:relative; margin-bottom:14px}
.radioWrap{
  position:relative;
  display:flex;
  gap:10px;
  margin-bottom:14px;
}
.payCard{
  flex:1;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(2,6,23,.45);
  padding:12px 12px;
  border-radius:16px;
  cursor:pointer;
  transition:.25s;
  display:flex;
  align-items:center;
  gap:10px;
}
.payCard:hover{transform:translateY(-1px); border-color:rgba(56,189,248,.35)}
.payCard input{width:auto; margin:0}
.payTitle{font-weight:bold; color:#e2e8f0; font-size:14px}
.paySub{font-size:12px; color:#94a3b8}
.badge{
  margin-inline-start:auto;
  font-size:12px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,.18);
  color:#cbd5e1;
}
.badge.green{border-color:rgba(34,197,94,.35); color:#22c55e}
.badge.yellow{border-color:rgba(250,204,21,.35); color:#facc15}
.priceBox{
  position:relative;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(2,6,23,.35);
  margin:10px 0 16px;
}
.priceBox b{color:#e2e8f0}
.priceBox span{color:#22c55e; font-weight:bold}
button{
  border:none;
  background:linear-gradient(90deg,#22c55e,#16a34a);
  color:#03110a;
  font-weight:800;
  font-size:17px;
  cursor:pointer;
  box-shadow:0 10px 30px rgba(34,197,94,.22);
}
button:hover{transform:translateY(-1px) scale(1.01)}
button:disabled{
  opacity:.55;
  cursor:not-allowed;
  transform:none;
}
.smallHint{
  position:relative;
  margin-top:8px;
  font-size:12px;
  color:#94a3b8;
  text-align:center;
}
.msg{
  display:none;
  margin-top:14px;
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(2,6,23,.35);
  animation:pop .35s ease;
  text-align:center;
}
@keyframes pop{from{opacity:0; transform:scale(.97)} to{opacity:1; transform:scale(1)}}
.msg.success{border-color:rgba(34,197,94,.35); color:#22c55e; font-weight:800}
.msg.cash{border-color:rgba(250,204,21,.35); color:#facc15; font-weight:800}
.fadeUp{
  animation:fadeUp .45s ease;
}
@keyframes fadeUp{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)}}

.hidden{display:none}
</style>
</head>

<body>
<div class="container">
  <h1>Mohamed Tech</h1>
  <div class="subtitle">نظام حجز لحل منصة البرمجة</div>
  <div class="hr"></div>

  <form id="bookingForm">
    <div class="row">
      <label>الاسم الرباعي</label>
      <input type="text" name="full_name" placeholder="مثال: محمد أحمد علي حسن" required />
    </div>

    <div class="row">
      <label>المدرسة</label>
      <input type="text" name="school" placeholder="اسم المدرسة" required />
    </div>

    <div class="row">
      <label>العنوان</label>
      <input type="text" name="address" placeholder="المنطقة / الشارع (اختياري تفاصيل بسيطة)" required />
    </div>

    <div class="row">
      <label>الفصل</label>
      <select name="class" required>
        <option value="">اختر الفصل</option>
        <option>1/1</option>
        <option>1/2</option>
        <option>1/3</option>
        <option>1/4</option>
        <option>1/5</option>
      </select>
    </div>

    <div class="row">
      <label>اسم المنصة</label>
      <input type="text" name="platform_name" placeholder="اسم منصتك هنا" required />
    </div>

    <div class="row">
      <label>كود المنصة</label>
      <input type="text" name="platform_code" placeholder="اكتب الكود هنا" required />
    </div>

    <div class="priceBox">
      <b>قيمة الخدمة</b>
      <span>100 جنيه</span>
    </div>

    <label>طريقة الدفع</label>
    <div class="radioWrap">
      <label class="payCard" for="payVod">
        <input id="payVod" type="radio" name="payment_method" value="Vodafone Cash" checked />
        <div>
          <div class="payTitle">Vodafone Cash</div>
          <div class="paySub">الدفع على رقم المحفظة</div>
        </div>
        <span class="badge green">الأفضل</span>
      </label>

      <label class="payCard" for="payCash">
        <input id="payCash" type="radio" name="payment_method" value="Cash" />
        <div>
          <div class="payTitle">Cash</div>
          <div class="paySub">الدفع كاش عند محمد سامح</div>
        </div>
        <span class="badge yellow">بديل</span>
      </label>
    </div>

    <!-- Vodafone Cash details -->
    <div id="vodBox" class="msg fadeUp" style="display:block;">
      رقم فودافون كاش: <b>01060904228</b><br>
      بعد التحويل اكتب رقم العملية بالأسفل ✅
    </div>

    <div id="trxRow" class="row">
      <label>رقم عملية التحويل (Vodafone Cash)</label>
      <input type="text" name="vodafone_trx" id="vodafone_trx" placeholder="مثال: 1234567890" />
    </div>

    <!-- Cash details (hidden until selected) -->
    <div id="cashBox" class="msg cash">
      برجاء التوجه لمحمد سامح و دفع 100 جنيه
    </div>

    <button id="submitBtn" type="submit">تأكيد الحجز</button>
    <div class="smallHint">ملحوظة: لو اخترت Vodafone Cash لازم تكتب رقم العملية.</div>
  </form>

  <div class="msg success" id="successMessage">تم تسجيل الحجز بنجاح! ✅</div>

  <!-- نفس نصّك القديم (هيظهر فقط لو الدفع Vodafone Cash؟ لأ—إحنا هنخليه يختفي مع Vodafone ويظهر مع Cash حسب طلبك) -->
  <div class="msg cash" id="paymentMessage">برجاء دفع 100 جنيه لمحمد سامح مقدماً قبل البدء</div>

  <div class="msg success" id="startSoonMessage">سنبدأ في حل منصتك في اقرب وقت ✅</div>
</div>

<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script>
(function(){
  emailjs.init('QWrTiK1BOSDjZaijS');
})();

const form = document.getElementById('bookingForm');
const successMessage = document.getElementById('successMessage');
const paymentMessage = document.getElementById('paymentMessage');
const startSoonMessage = document.getElementById('startSoonMessage');

const payVod = document.getElementById('payVod');
const payCash = document.getElementById('payCash');

const vodBox = document.getElementById('vodBox');
const cashBox = document.getElementById('cashBox');
const trxRow = document.getElementById('trxRow');
const trxInput = document.getElementById('vodafone_trx');

function setPaymentUI(){
  // reset visible messages (post-submit)
  paymentMessage.style.display = 'none';
  startSoonMessage.style.display = 'none';

  if(payVod.checked){
    vodBox.style.display = 'block';
    cashBox.style.display = 'none';
    trxRow.style.display = 'block';
    trxInput.required = true;
  }else{
    vodBox.style.display = 'none';
    cashBox.style.display = 'block';
    trxRow.style.display = 'none';
    trxInput.required = false;
    trxInput.value = '';
  }
}
payVod.addEventListener('change', setPaymentUI);
payCash.addEventListener('change', setPaymentUI);
setPaymentUI();

form.addEventListener('submit', function(event){
  event.preventDefault();

  // اخفاء رسائل النتيجة القديمة قبل الإرسال
  successMessage.style.display = 'none';
  paymentMessage.style.display = 'none';
  startSoonMessage.style.display = 'none';

  emailjs.sendForm('service_dsxhs5v', 'template_ul985hd', form)
    .then(function(){
      successMessage.style.display = 'block';

      // حسب اختيار الدفع:
      if(payVod.checked){
        // دفع فودافون كاش: لا نظهر “برجاء الدفع”، نظهر “سنبدأ…”
        startSoonMessage.style.display = 'block';
      }else{
        // دفع كاش: نظهر التعليمات (بالأنيميشن)
        cashBox.style.display = 'block';
        paymentMessage.style.display = 'block';
      }

      form.reset();
      // بعد reset نرجّع الاختيار الافتراضي فودافون كاش + الواجهة
      payVod.checked = true;
      setPaymentUI();
    }, function(error){
      alert('حصل خطأ في إرسال الحجز، حاول مرة أخرى.');
      console.log('Error:', error);
    });
});
</script>
</body>
</html>
