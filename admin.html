<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Samo Admin | الإدارة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #020617; color: white; padding: 20px; font-family: sans-serif; }
        .admin-ui { display: none; max-width: 800px; margin: auto; }
        .stat-card { background: #0f172a; padding: 20px; border-radius: 15px; border: 1px solid #22c55e; margin-bottom: 20px; text-align: center; }
        table { width: 100%; background: #0f172a; border-radius: 15px; overflow: hidden; }
        th, td { padding: 15px; border-bottom: 1px solid #1e293b; text-align: center; }
        .btn-del { color: #ef4444; border: none; background: none; cursor: pointer; }
    </style>
</head>
<body>
    <div id="login" style="text-align:center; margin-top:100px;">
        <input type="password" id="pass" placeholder="Password" style="padding:10px; border-radius:10px;">
        <button onclick="checkPass()" style="padding:10px 20px; background:#22c55e; border:none; border-radius:10px; cursor:pointer;">دخول</button>
    </div>
    <div id="adminArea" class="admin-ui">
        <h1>لوحة تحكم Samo ⚙️</h1>
        <div class="stat-card"><h2>إجمالي الأرباح</h2><h1 id="profit">0 ج.م</h1></div>
        <table>
            <thead><tr><th>الطالب</th><th>الحالة</th><th>حذف</th></tr></thead>
            <tbody id="tbody"></tbody>
        </table>
    </div>
    <script>
        function checkPass() { if(document.getElementById('pass').value === "Mody1234m@") { document.getElementById('login').style.display='none'; document.getElementById('adminArea').style.display='block'; load(); } }
        function load() {
            const b = JSON.parse(localStorage.getItem('bookings') || '[]');
            const tbody = document.getElementById('tbody');
            tbody.innerHTML = '';
            let p = 0;
            b.forEach((item, i) => {
                if(item.payStatus === 'تم الدفع') p += 50;
                tbody.innerHTML += `<tr><td>${item.name}</td><td><button onclick="pay(${i})">${item.payStatus}</button></td><td><button class="btn-del" onclick="del(${i})">X</button></td></tr>`;
            });
            document.getElementById('profit').innerText = p + " ج.م";
        }
        function pay(i) { let b = JSON.parse(localStorage.getItem('bookings')); b[i].payStatus = b[i].payStatus === 'تم الدفع' ? 'لم يدفع' : 'تم الدفع'; localStorage.setItem('bookings', JSON.stringify(b)); load(); }
        function del(i) { let b = JSON.parse(localStorage.getItem('bookings')); b.splice(i,1); localStorage.setItem('bookings', JSON.stringify(b)); load(); }
    </script>
</body>
</html>
